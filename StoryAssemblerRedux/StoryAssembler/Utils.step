RunStory ?frag:
    [StoryAssembler ?]
    # [Paragraph]
    # [StoryAssembler ?]
    # [Paragraph]
    # [StoryAssembler ?]
    # [Paragraph]
    # [StoryAssembler ?]
    # [Paragraph]
    # [StoryAssembler ?]
    # [Paragraph]
[end]

RunStoryWrap: [RunStory ?frag]

# Custom max check
[predicate]
MaxOf ?x ?y ?max: [< ?x ?y] [set ?max = ?y]
MaxOf ?x ?y ?max: [set ?max = ?x]

T: 
    [set CurrentScene = test]
    [InitScene ^CurrentScene]
    Testing: ^CurrentScene
    [Paragraph]
    [BestPath ?bf ?s]
    [Paragraph]
    Best Path: ?bf Score: r?s
[end]

R:
    [set CurrentScene = test]
    [InitScene ^CurrentScene]
    Testing: ^CurrentScene
    [AvailableUnexploredFragment ?frag ^CurrentScene]
[end]

fluent Dating ?char1 ?char2.

[predicate]
Generate a 1:
    [now [Dating a b]]
[end]
Generate b 2:
    [now [Dating b c]]
[end]
Generate c 3:
    [now [Dating d e]]
[end]

TestMax: [Max ?s [Generate ?x ?s]] ?x ?s

initially:
    [set ^CurrentScene = test]
[end]

